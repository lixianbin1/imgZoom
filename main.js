!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);
/*!
 * imgZoom JavaScript Library v0.9.4
 * Author: lixianbin1
 * GitHub: https://github.com/lixianbin1/imgZoom
 * Date: 2024-03-18 11:27
 */
var o,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAiCAMAAADRYI/HAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEVQTFRFAAAAmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZRJfMRZfLRZfMSJfKSJfKbpiza5i1RpfLXZi9nTbd7wAAABd0Uk5TAP/8/fL7/vQKK/r4+S3////+/xRP/2yasflWAAABaElEQVR4nJ1U2XbFIAgcY5PuMV3S///UYm+UAZOYXh4EOTAOiAJFwibVKPuOA0GTfegVGWKUxAfNJTZg8R63F3uIYJeS0pBdVNCxGEZYDNQqN9cxSD1mYpDaszYH4MUxmQamHjgnBO/giMfCRdY4mvpPQLShpLN6QiQmYLAWBKSr8Zx1A1Ku5gKTUqIp5xzE9YSj48sBSO92OGHaB+nOyWseeLHegp8TAulNbBlskffbnBhyu+W4twMbME7N473nNfvfAt7R/U8Ms3mTapR9x4FZk33oFUnLIokfmktsTN+8x+3FTn8gviJU10awQQUdi5RgMVCr3FzHIHoMg9SetTkAL44Jg8waooWxgyM+CxdZFwOCExBtKOmsvgwIGKwFAelqfGfdgJSrucCklPgPENcTjl7WA5De7ZiEfZDunKx54MVaZz8nBNKb2DLYIj83EENutxz3dmADUvt473nN/reAd3T/E3H8AieyJXX6TiMLAAAAAElFTkSuQmCC",a={},r={},l="滚动缩放图片",s="auto",m="50%",c="50%",d="day",g=!1;function u(e,t){var n=e.endsWith(".svg")||e.includes("data:image/svg+xml");if(!a[e]&&!n||g){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e=document.createElement("canvas");e.width=o.naturalWidth,e.height=o.naturalHeight,e.getContext("2d").drawImage(o,0,0);var n=e.toDataURL("image/png");a[o.src]=n,r[o.src]={width:o.naturalWidth,height:o.naturalHeight},t&&t(n)},o.src=e,o.onerror=function(){t&&t("无法访问图片")}}}function f(){var e=document.querySelectorAll("img.imgZoom");o||(o=e[0]),e.forEach((function(e){var t=e.src;t&&u(t);var n=e.getAttribute("data-src");if(n){u(n);var o=new Image;o.src=n,o.onload=function(){e.src=o.src}}}))}function p(e){var t=document.getElementById("_imgzoom").getElementsByClassName(e)[0];t.addEventListener("mousemove",(function(){t.getElementsByTagName("p")[0].style.display="block"})),t.addEventListener("mouseout",(function(){t.getElementsByTagName("p")[0].style.display="none"})),t.addEventListener("mousedown",(function(e){e.stopPropagation()})),t.addEventListener("click",(function(){for(var t=void 0,n=document.getElementsByClassName("imgZoom"),i=0;i<n.length;i++)if("next"==e?n[i]===o&&i<n.length-1?t=n[i+1]:n[i]===o&&i===n.length-1&&(t=n[0]):n[i]===o&&i>0?t=n[i-1]:n[i]===o&&0===i&&(t=n[n.length-1]),t){var r=void 0;r=(o=t).alt?o.alt:l;var s=o.src;a[t.src]&&(s=a[t.src]),document.getElementById("net").src=s,z(r);break}}))}function h(e,t){if((e=e||window.event).wheelDelta<0){var n=Math.round(.9*t.offsetWidth),o=Math.round(.9*t.offsetHeight);(n>360||o>270)&&(t.style.width=n+"px")}else{var i=Math.round(1.1*t.offsetWidth),a=Math.round(1.1*t.offsetHeight);(i<82500||a<46500)&&(t.style.width=i+"px")}}function v(){var e;p("last"),p("next"),(e=document.getElementById("_imgzoom")).addEventListener("mousewheel",(function(t){t.preventDefault(),h(t,e)})),e.addEventListener("DOMMouseScroll",(function(t){t.preventDefault(),h(t,e)})),function(){var e,t,n=document.getElementById("_imgzoom");function o(o){var i=o.screenX-e,a=o.screenY-t;e=o.screenX,t=o.screenY;var r=n.offsetTop,l=n.offsetLeft;n.style.top=r+a+"px",n.style.left=l+i+"px"}n.addEventListener("mousedown",(function(n){n.preventDefault(),e=n.screenX,t=n.screenY,window.addEventListener("mousemove",o)})),window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",o)}))}()}function y(e,t){var n=!1,o=e.split(" ");for(var i in o)o[i]==t&&(n=!0);return n}function x(e){var t,n=document.getElementById("_imgzoom"),i=document.getElementsByClassName("imgZoom");if(t=(o=e)&&o.alt?o.alt:l,e&&e.src){if(n&&i.length>0){var r=document.getElementById("net");a[e.src]?r.src=a[e.src]:(r.src=e.src,f())}n.style.top=m,n.style.left=c,n.style.width=s+"px",z(t),w(e),n.parentElement.style.display="block"}else i.length>0?x(i[0]):console.error('F02: Missing parameters "src"')}function A(){var e=document.getElementById("_imgzoom");e&&(e.parentElement.style.display="none")}function w(e){var t=function(e,t){var n=e/t;if(window.innerWidth/window.innerHeight>=n){var o=(window.innerHeight-350)*n;i.style.width=o+"px"}else i.style.width=window.innerWidth-200+"px"};e&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var n=document.getElementById("net").src,i=document.getElementById("_imgzoom"),a=o.src;if(r[a])t(r[a].width,r[a].height);else{console.log(555);var l=new Image;l.src=n,l.complete?t(l.width,l.height):l.onload=function(){t(l.width,l.height)}}}function b(e,t){t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),e&&(d=e),Array.from(document.getElementsByClassName("_imgzoom_box")).forEach((function(e){e.style.backgroundColor="day"==d?"black":"white"})),Array.from(document.getElementsByClassName("_imgzoom_title")).forEach((function(e){e.style.color="day"==d?"white":"black"})),d="night"==d?"day":"night"}function E(e){e.width&&(s=e.width),e.title&&(l=e.title),e.top&&(m=e.top),e.left&&(c=e.left),e.theme&&(d=e.theme),e.svgCache&&(g=e.svgCache)}function z(e){try{document.querySelector("p._imgzoom_title").firstChild.nodeValue=e}catch(e){console.log(e)}}function _(){!function(){var e=s,t=l,n=c,o=m;"auto"==e&&(e=1e3);var a=document.getElementsByTagName("body")[0],r=document.createElement("div");r.style.position="fixed",r.style.zIndex="9999",r.style.display="none",a.appendChild(r),r.innerHTML='\n    <div id="_imgzoom" class="_imgzoom_box" style="width:'+e+"px;position:fixed;top:"+o+";left:"+n+';transform: translate(-50%,-50%);background:#fff;z-index: 1;-webkit-Img-select: none;-moz-Img-select: none;-ms-Img-select: none;user-select:       none;padding:5px 10px 25px;">\n      <div class="header" style="">\n        <p class="_imgzoom_title" style="margin:0;padding:8px 0">\n        '+t+'\n          <span style="float:right">\n            <a id="imgzoom_check" class="imgzoom_check" href="javascript:;"  title="切换主题" style="background: url('+i+') no-repeat -51px 0;width:17px;height:17px;float:left;margin-left:10px;overflow:hidden;line-height:100px">切换主题</a>\n            <a id="imgzoom_imglink" class="imgzoom_imglink" href="javascript:;" title="在新窗口打开" style="background: url('+i+') no-repeat 0 0;width:17px;height:17px;float:left;margin-left:10px;overflow:hidden;line-height:100px">在新窗口打开</a>\n            <a id="imgzoom_resize" class="imgzoom_resize" href="javascipt:;" title="优化显示" style="background: url('+i+') no-repeat -17px 0;width:17px;height:17px;float:left;margin-left:10px;overflow:hidden;line-height:100px">优化显示</a>\n            <a id="imgzoom_close" class="imgzoom_close" href="javascript:;" title="关闭" style="background: url('+i+') no-repeat -34px 0;width:17px;height:17px;float:left;margin-left:10px;overflow:hidden;line-height:100px">关闭</a>\n          </span>\n        </p>\n      </div>\n      <div style="position:relative;">\n        <div class="last" style="display: block;position: absolute;width: 80px;height: 50%;top: 50%;transform: translateY(-50%);left:0;cursor: pointer;background:rgba(0,0,0,0);">\n          <p class="_imgzoom_title _imgzoom_box" style="background:#fff;color:#000;position:absolute;top:40%;left:0;margin:0;padding:5px;font-size:12px;display:none">上一张</p>\n        </div>\n        <div class="next" style="display: block;position: absolute;width: 80px;height: 50%;top: 50%;transform: translateY(-50%);right:0;cursor: pointer;background:rgba(0,0,0,0);">\n          <p class="_imgzoom_title _imgzoom_box" style="background:#fff;color:#000;position:absolute;top:40%;right:0;margin:0;padding:5px;font-size:12px;display:none;z-index">下一张</p>\n        </div>\n        <img id="net" src="" oncopy="return false;" style="width:100%;vertical-align: top;">\n      </div>\n    </div>\n    <div class="imgzoom_shadow" style="position:fixed;width: 100%;height: 100%;background-color: rgb(0, 0, 0);top:0;left:0;opacity: 0.5;"/>\n  </div>'}(),v(),document.addEventListener("click",(function(e){var t=e.target;"IMG"==t.nodeName&&y(t.className,"imgZoom")&&x(t),(y(t.className,"imgzoom_shadow")||y(t.className,"imgzoom_close"))&&A(),y(t.className,"imgzoom_resize")&&w(e),y(t.className,"imgzoom_check")&&b(null,e),y(t.className,"imgzoom_imglink")&&function(e){e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),o?window.open(o.src):console.error('F01: Imgzoom is not initialized, please execute "imgZoom.init()"')}(e)}))}var Z={Version:"0.9.4",Title:"imgzoon-li",Author:"lixianbin1",init:function(){return f(),_(),{SetOption:E,SetTitle:z,Open:x,Close:A,ThemeSwitch:b}}};console.log(Z);var k=Z.init();k.SetOption({top:"50%",title:"3154"}),k.SetTitle("32123"),console.log(k)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZ1pvb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX0N1cnJlbnRJbWFnZSIsImljb25CYXNlNjQiLCJfY2FjaGUiLCJfc2l6ZSIsIl90aXRsZSIsIl93aWR0aCIsIl90b3AiLCJfbGVmdCIsIl90aGVtZSIsIl9zdmdDYWNoZSIsImltYWdlVG9CYXNlNjQiLCJpbWdVcmwiLCJjYWxsYmFjayIsImlzU1ZHIiwiZW5kc1dpdGgiLCJpbmNsdWRlcyIsImltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsIm9ubG9hZCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwibmF0dXJhbFdpZHRoIiwiaGVpZ2h0IiwibmF0dXJhbEhlaWdodCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJkYXRhVVJMIiwidG9EYXRhVVJMIiwic3JjIiwib25lcnJvciIsImltZ0xvYWQiLCJpbWFnZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImltZyIsImltZ1NyYyIsImRhdGFTcmMiLCJnZXRBdHRyaWJ1dGUiLCJsYXJnZUltYWdlIiwibGFzdG5leHQiLCJ0eXBlIiwiZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJuZXdJbWciLCJ1bmRlZmluZWQiLCJpbWdMaXN0IiwibGVuZ3RoIiwiaW1nVGl0bGUiLCJhbHQiLCJCYXNlNjQiLCJTZXRUaXRsZSIsIkRldGFpbCIsImUiLCJ3aW5kb3ciLCJ3aGVlbERlbHRhIiwidyIsIk1hdGgiLCJyb3VuZCIsIm9mZnNldFdpZHRoIiwiaCIsIm9mZnNldEhlaWdodCIsIl93IiwiX2giLCJiaW5nIiwicHJldmVudERlZmF1bHQiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBvc2l0aW9uIiwieCIsInkiLCJ0b3AiLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbWdNb3ZlIiwiaW5TdHIiLCJzdHIiLCJzdHJpbmciLCJpc2luIiwiYXJyIiwic3BsaXQiLCJPcGVuIiwiaW1nQm94IiwiUmVzaXplIiwicGFyZW50RWxlbWVudCIsImNvbnNvbGUiLCJlcnJvciIsIkNsb3NlIiwiX2ltZ3pvb20iLCJzaXplIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwibnVtIiwicmV0dXJuVmFsdWUiLCJ1cmwiLCJsb2ciLCJjb21wbGV0ZSIsIlRoZW1lU3dpdGNoIiwiQXJyYXkiLCJmcm9tIiwiYm94IiwiYmFja2dyb3VuZENvbG9yIiwidGl0bGUiLCJjb2xvciIsIlNldE9wdGlvbiIsIm9iaiIsInRoZW1lIiwic3ZnQ2FjaGUiLCJxdWVyeVNlbGVjdG9yIiwiZmlyc3RDaGlsZCIsIm5vZGVWYWx1ZSIsImVyciIsInN0YXJ0IiwiaW1nd2lkdGgiLCJpbWd0aXRsZSIsImltZ2xlZnQiLCJpbWd0b3AiLCJib2R5IiwiaW1nYiIsInpJbmRleCIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJjbGFzc05hbWUiLCJvcGVuIiwidGFyZ2V0SW1nIiwiaW1nWm9vbSIsIlZlcnNpb24iLCJUaXRsZSIsIkF1dGhvciIsImluaXQiLCJpbWdsaSIsImltZ29iaiJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRzs7Ozs7OztBQzNFckQsSUFPSUMsRUFQQUMsRUFBVSw2d0JBS1ZDLEVBQU8sR0FDUEMsRUFBTSxHQUVOQyxFQUFTLFNBQ1RDLEVBQVMsT0FDVEMsRUFBTyxNQUNQQyxFQUFRLE1BQ1JDLEVBQVMsTUFDVEMsR0FBWSxFQUVoQixTQUFTQyxFQUFjQyxFQUFRQyxHQUMzQixJQUFJQyxFQUFRRixFQUFPRyxTQUFTLFNBQVdILEVBQU9JLFNBQVMsc0JBQ3ZELElBQUliLEVBQU9TLEtBQVlFLEdBQVNKLEVBQVUsQ0FDdEMsSUFBSU8sRUFBUSxJQUFJQyxNQUNoQkQsRUFBTUUsWUFBYyxZQUNwQkYsRUFBTUcsT0FBUyxXQUNmLElBQUlDLEVBQVNDLFNBQVNDLGNBQWMsVUFDcENGLEVBQU9HLE1BQVFQLEVBQU1RLGFBQ3JCSixFQUFPSyxPQUFTVCxFQUFNVSxjQUNaTixFQUFPTyxXQUFXLE1BQ3hCQyxVQUFVWixFQUFPLEVBQUcsR0FDeEIsSUFBSWEsRUFBVVQsRUFBT1UsVUFBVSxhQUMvQjVCLEVBQU9jLEVBQU1lLEtBQU9GLEVBQ3BCMUIsRUFBTWEsRUFBTWUsS0FBTyxDQUNmUixNQUFNUCxFQUFNUSxhQUNaQyxPQUFPVCxFQUFNVSxlQUVqQmQsR0FBV0EsRUFBU2lCLElBRXBCYixFQUFNZSxJQUFNcEIsRUFDWkssRUFBTWdCLFFBQVUsV0FDaEJwQixHQUFXQSxFQUFTLFlBTTVCLFNBQVNxQixJQUNMLElBQU1DLEVBQVNiLFNBQVNjLGlCQUFpQixlQUNyQ25DLElBQ0FBLEVBQWdCa0MsRUFBTyxJQUUzQkEsRUFBT0UsU0FBUSxTQUFBQyxHQUNYLElBQU1DLEVBQVFELEVBQUlOLElBQ2RPLEdBQ0E1QixFQUFjNEIsR0FFbEIsSUFBTUMsRUFBVUYsRUFBSUcsYUFBYSxZQUNqQyxHQUFJRCxFQUFTLENBQ1Q3QixFQUFjNkIsR0FDZCxJQUFNRSxFQUFhLElBQUl4QixNQUN2QndCLEVBQVdWLElBQU1RLEVBQ2pCRSxFQUFXdEIsT0FBUyxXQUNoQmtCLEVBQUlOLElBQU1VLEVBQVdWLFNBaURyQyxTQUFTVyxFQUFTQyxHQUNoQixJQUFJQyxFQUFNdkIsU0FBU3dCLGVBQWUsWUFBWUMsdUJBQXVCSCxHQUFNLEdBQzNFQyxFQUFJRyxpQkFBaUIsYUFBYSxXQUNoQ0gsRUFBSUkscUJBQXFCLEtBQUssR0FBR0MsTUFBTUMsUUFBVSxXQUVuRE4sRUFBSUcsaUJBQWlCLFlBQVksV0FDL0JILEVBQUlJLHFCQUFxQixLQUFLLEdBQUdDLE1BQU1DLFFBQVUsVUFFbkROLEVBQUlHLGlCQUFpQixhQUFhLFNBQVVJLEdBQzFDQSxFQUFNQyxxQkFFUlIsRUFBSUcsaUJBQWlCLFNBQVEsV0FHM0IsSUFGQSxJQUFJTSxPQUFPQyxFQUNQQyxFQUFVbEMsU0FBU3lCLHVCQUF1QixXQUNyQzlFLEVBQUksRUFBR0EsRUFBSXVGLEVBQVFDLE9BQVF4RixJQWNsQyxHQWJZLFFBQVIyRSxFQUNDWSxFQUFRdkYsS0FBS2dDLEdBQWlCaEMsRUFBSXVGLEVBQVFDLE9BQVMsRUFDcERILEVBQU9FLEVBQVF2RixFQUFFLEdBQ1Z1RixFQUFRdkYsS0FBS2dDLEdBQWlCaEMsSUFBTXVGLEVBQVFDLE9BQVMsSUFDNURILEVBQU9FLEVBQVEsSUFHZEEsRUFBUXZGLEtBQUtnQyxHQUFpQmhDLEVBQUksRUFDbkNxRixFQUFPRSxFQUFRdkYsRUFBRSxHQUNWdUYsRUFBUXZGLEtBQUtnQyxHQUF1QixJQUFOaEMsSUFDckNxRixFQUFPRSxFQUFRQSxFQUFRQyxPQUFTLElBR2hDSCxFQUFRLENBRVYsSUFBSUksT0FBUSxFQUVWQSxHQUhGekQsRUFBZ0JxRCxHQUVDSyxJQUNKMUQsRUFBYzBELElBRWR0RCxFQUViLElBQUl1RCxFQUFTM0QsRUFBYytCLElBQ3hCN0IsRUFBT21ELEVBQU90QixPQUNmNEIsRUFBU3pELEVBQU9tRCxFQUFPdEIsTUFFekJWLFNBQVN3QixlQUFlLE9BQU9kLElBQU00QixFQUNyQ0MsRUFBU0gsR0FDVCxVQW9CUixTQUFTSSxFQUFPQyxFQUFHbEIsR0FFakIsSUFEQWtCLEVBQUlBLEdBQUtDLE9BQU9aLE9BQ1ZhLFdBQWEsRUFBRyxDQUNwQixJQUFJQyxFQUFJQyxLQUFLQyxNQUF3QixHQUFsQnZCLEVBQUl3QixhQUNuQkMsRUFBSUgsS0FBS0MsTUFBeUIsR0FBbkJ2QixFQUFJMEIsZUFDbkJMLEVBQUksS0FBT0ksRUFBSSxPQUNqQnpCLEVBQUlLLE1BQU0xQixNQUFRMEMsRUFBSSxVQUVuQixDQUNMLElBQUlNLEVBQUtMLEtBQUtDLE1BQXdCLElBQWxCdkIsRUFBSXdCLGFBQ3BCSSxFQUFLTixLQUFLQyxNQUF5QixJQUFuQnZCLEVBQUkwQixlQUNwQkMsRUFBSyxPQUFTQyxFQUFLLFNBQ3JCNUIsRUFBSUssTUFBTTFCLE1BQVFnRCxFQUFLLE9BK0I3QixTQUFTRSxJQXhEVCxJQUNNN0IsRUF3REpGLEVBQVMsUUFDVEEsRUFBUyxTQXpETEUsRUFBTXZCLFNBQVN3QixlQUFlLGFBQzlCRSxpQkFBaUIsY0FBYSxTQUFDSSxHQUNqQ0EsRUFBTXVCLGlCQUNOYixFQUFPVixFQUFPUCxNQUVoQkEsRUFBSUcsaUJBQWlCLGtCQUFpQixTQUFDSSxHQUNyQ0EsRUFBTXVCLGlCQUNOYixFQUFPVixFQUFPUCxNQXVCbEIsV0FDRSxJQUNJK0IsRUFBU0MsRUFEVGhDLEVBQU12QixTQUFTd0IsZUFBZSxZQVdsQyxTQUFTZ0MsRUFBU2YsR0FDaEIsSUFBSWdCLEVBQUloQixFQUFFYSxRQUFVQSxFQUNoQkksRUFBSWpCLEVBQUVjLFFBQVVBLEVBQ3BCRCxFQUFVYixFQUFFYSxRQUNaQyxFQUFVZCxFQUFFYyxRQUNaLElBQUlJLEVBQU1wQyxFQUFJcUMsVUFDVkMsRUFBT3RDLEVBQUl1QyxXQUNmdkMsRUFBSUssTUFBTStCLElBQU1BLEVBQU1ELEVBQUksS0FDMUJuQyxFQUFJSyxNQUFNaUMsS0FBT0EsRUFBT0osRUFBSSxLQWpCOUJsQyxFQUFJRyxpQkFBaUIsYUFBYSxTQUFVZSxHQUMxQ0EsRUFBRVksaUJBQ0ZDLEVBQVViLEVBQUVhLFFBQ1pDLEVBQVVkLEVBQUVjLFFBQ1piLE9BQU9oQixpQkFBaUIsWUFBYThCLE1BRXZDZCxPQUFPaEIsaUJBQWlCLFdBQVcsV0FDakNnQixPQUFPcUIsb0JBQW9CLFlBQWFQLE1BbUIxQ1EsR0FJRixTQUFTQyxFQUFNQyxFQUFLQyxHQUNsQixJQUFJQyxHQUFPLEVBQ1BDLEVBQU1ILEVBQUlJLE1BQU0sS0FDcEIsSUFBSyxJQUFJM0gsS0FBSzBILEVBQ1JBLEVBQUkxSCxJQUFNd0gsSUFDWkMsR0FBTyxHQUdYLE9BQU9BLEVBSVQsU0FBU0csRUFBS3pDLEdBQ1osSUFHSU0sRUFIQW9DLEVBQVN4RSxTQUFTd0IsZUFBZSxZQUNqQ1UsRUFBVWxDLFNBQVN5Qix1QkFBdUIsV0FROUMsR0FKRVcsR0FIRnpELEVBQWdCbUQsSUFFSW5ELEVBQWMwRCxJQUNyQjFELEVBQWMwRCxJQUVkdEQsRUFFVCtDLEdBQVNBLEVBQU1wQixJQUFLLENBQ3RCLEdBQUk4RCxHQUFVdEMsRUFBUUMsT0FBUyxFQUFHLENBQ2hDLElBQUluQixFQUFNaEIsU0FBU3dCLGVBQWUsT0FDL0IzQyxFQUFPaUQsRUFBTXBCLEtBQ2RNLEVBQUlOLElBQU03QixFQUFPaUQsRUFBTXBCLE1BRXZCTSxFQUFJTixJQUFNb0IsRUFBTXBCLElBQ2hCRSxLQUdKNEQsRUFBTzVDLE1BQU0rQixJQUFNMUUsRUFDbkJ1RixFQUFPNUMsTUFBTWlDLEtBQU8zRSxFQUNwQnNGLEVBQU81QyxNQUFNMUIsTUFBUWxCLEVBQVMsS0FDOUJ1RCxFQUFTSCxHQUNUcUMsRUFBTzNDLEdBQ1AwQyxFQUFPRSxjQUFjOUMsTUFBTUMsUUFBVSxhQUM3QkssRUFBUUMsT0FBUyxFQUN6Qm9DLEVBQUtyQyxFQUFRLElBRWJ5QyxRQUFRQyxNQUFNLGlDQUtsQixTQUFTQyxJQUNQLElBQUlDLEVBQVc5RSxTQUFTd0IsZUFBZSxZQUNuQ3NELElBQ0ZBLEVBQVNKLGNBQWM5QyxNQUFNQyxRQUFVLFFBSzNDLFNBQVM0QyxFQUFPM0MsR0FDZCxJQUFNaUQsRUFBTSxTQUFDbkMsRUFBRUksR0FDYixJQUNJVSxFQUFJZCxFQUFJSSxFQUNaLEdBRlFOLE9BQU9zQyxXQUFhdEMsT0FBT3VDLGFBRTFCdkIsRUFBRyxDQUNWLElBQUl3QixHQUFPeEMsT0FBT3VDLFlBQWMsS0FBT3ZCLEVBQ3ZDbkMsRUFBSUssTUFBTTFCLE1BQVFnRixFQUFNLFVBRXhCM0QsRUFBSUssTUFBTTFCLE1BQVF3QyxPQUFPc0MsV0FBYSxJQUFNLE1BRzdDbEQsSUFDREEsRUFBTXVCLGVBQWlCdkIsRUFBTXVCLGlCQUFtQnZCLEVBQU1xRCxhQUFjLEdBRXRFLElBQUlDLEVBQU1wRixTQUFTd0IsZUFBZSxPQUFPZCxJQUNyQ2EsRUFBTXZCLFNBQVN3QixlQUFlLFlBQzlCdEQsRUFBTVMsRUFBYytCLElBQ3hCLEdBQUc1QixFQUFNWixHQUNQNkcsRUFBS2pHLEVBQU1aLEdBQUtnQyxNQUFNcEIsRUFBTVosR0FBS2tDLFlBQzlCLENBQ0h1RSxRQUFRVSxJQUFJLEtBQ1osSUFBSXJFLEVBQU0sSUFBSXBCLE1BQ2RvQixFQUFJTixJQUFNMEUsRUFDTnBFLEVBQUlzRSxTQUNOUCxFQUFLL0QsRUFBSWQsTUFBTWMsRUFBSVosUUFFbkJZLEVBQUlsQixPQUFTLFdBQ1hpRixFQUFLL0QsRUFBSWQsTUFBTWMsRUFBSVosVUFPM0IsU0FBU21GLEVBQVlqRSxFQUFLUSxHQUNyQkEsSUFDREEsRUFBTXVCLGVBQWlCdkIsRUFBTXVCLGlCQUFtQnZCLEVBQU1xRCxhQUFjLEdBRXRFN0QsSUFBS25DLEVBQVNtQyxHQUNka0UsTUFBTUMsS0FBS3pGLFNBQVN5Qix1QkFBdUIsaUJBQWlCVixTQUFRLFNBQUMyRSxHQUNuRUEsRUFBSTlELE1BQU0rRCxnQkFBNEIsT0FBVnhHLEVBQWtCLFFBQVUsV0FFMURxRyxNQUFNQyxLQUFLekYsU0FBU3lCLHVCQUF1QixtQkFBbUJWLFNBQVEsU0FBQzZFLEdBQ3JFQSxFQUFNaEUsTUFBTWlFLE1BQWtCLE9BQVYxRyxFQUFrQixRQUFVLFdBR2hEQSxFQURXLFNBQVZBLEVBQ1EsTUFFQSxRQWlCYixTQUFTMkcsRUFBVUMsR0FDakJBLEVBQUk3RixRQUFNbEIsRUFBTytHLEVBQUk3RixPQUNyQjZGLEVBQUlILFFBQU03RyxFQUFPZ0gsRUFBSUgsT0FDckJHLEVBQUlwQyxNQUFJMUUsRUFBSzhHLEVBQUlwQyxLQUNqQm9DLEVBQUlsQyxPQUFLM0UsRUFBTTZHLEVBQUlsQyxNQUNuQmtDLEVBQUlDLFFBQU03RyxFQUFPNEcsRUFBSUMsT0FDckJELEVBQUlFLFdBQVM3RyxFQUFZMkcsRUFBSUUsVUFJL0IsU0FBUzFELEVBQVNxRCxHQUNoQixJQUNVNUYsU0FBU2tHLGNBQWMsb0JBQzdCQyxXQUFXQyxVQUFVUixFQUN4QixNQUFNUyxHQUNMMUIsUUFBUVUsSUFBSWdCLElBU2hCLFNBQVNDLEtBMVNULFdBQ0ksSUFBSUMsRUFBV3ZILEVBQ1h3SCxFQUFXekgsRUFDWDBILEVBQVV2SCxFQUNWd0gsRUFBU3pILEVBQ0csUUFBWnNILElBQ0ZBLEVBQVcsS0FFYixJQUFJSSxFQUFPM0csU0FBUzJCLHFCQUFxQixRQUFRLEdBQzdDaUYsRUFBTzVHLFNBQVNDLGNBQWMsT0FDbEMyRyxFQUFLaEYsTUFBTTRCLFNBQVMsUUFDcEJvRCxFQUFLaEYsTUFBTWlGLE9BQU8sT0FDbEJELEVBQUtoRixNQUFNQyxRQUFRLE9BQ25COEUsRUFBS0csWUFBWUYsR0FDakJBLEVBQUtHLFVBQVksOERBQ3dDUixFQUFXLHlCQUEyQkcsRUFBUyxTQUFXRCxFQUFVLHFTQUd0SEQsRUFBUSw0SkFFaUc1SCxFQUFVLDZPQUNMQSxFQUFVLHNPQUNmQSxFQUFVLHFPQUNiQSxFQUFVLHlzQ0FvUnZIWCxHQUNBbUYsSUFDQXBELFNBQVMwQixpQkFBaUIsU0FBUSxTQUFDSSxHQUNqQyxJQUNJa0YsRUFET2xGLEVBQ09rRixPQUNLLE9BQW5CQSxFQUFPQyxVQUFxQmhELEVBQU0rQyxFQUFPRSxVQUFXLFlBQ3REM0MsRUFBS3lDLElBRUgvQyxFQUFNK0MsRUFBT0UsVUFBVyxtQkFBcUJqRCxFQUFNK0MsRUFBT0UsVUFBVyxtQkFDdkVyQyxJQUVFWixFQUFNK0MsRUFBT0UsVUFBVyxtQkFDMUJ6QyxFQUFPM0MsR0FFTG1DLEVBQU0rQyxFQUFPRSxVQUFXLGtCQUMxQjNCLEVBQVksS0FBS3pELEdBRWZtQyxFQUFNK0MsRUFBT0UsVUFBVyxvQkF0RGxDLFNBQW1CcEYsR0FDZEEsSUFDREEsRUFBTXVCLGVBQWlCdkIsRUFBTXVCLGlCQUFtQnZCLEVBQU1xRCxhQUFjLEdBRW5FeEcsRUFDRCtELE9BQU95RSxLQUFLeEksRUFBYytCLEtBRTFCaUUsUUFBUUMsTUFBTSxvRUFnRFZ3QyxDQUFVdEYsTUFLbEIsSUFtQmV1RixFQWxCTixDQUNMQyxRQXBZVSxRQXFZVkMsTUFwWVEsYUFxWVJDLE9BcFlTLGFBcVlUQyxLQUFNLFdBR0osT0FGQTdHLElBQ0EwRixJQUNPLENBQ0xSLFlBQ0F2RCxXQUNBZ0MsT0FDQU0sUUFDQVUsaUJDclpSWixRQUFRVSxJQUFJcUMsR0FDWixJQUFNQyxFQUFPRCxFQUFNRCxPQUNuQkUsRUFBTzdCLFVBQVUsQ0FDYm5DLElBQUksTUFDSmlDLE1BQU0sU0FFVitCLEVBQU9wRixTQUFTLFNBRWhCb0MsUUFBUVUsSUFBSXNDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKiFcclxuICogaW1nWm9vbSBKYXZhU2NyaXB0IExpYnJhcnkgdjAuOS40XHJcbiAqIEF1dGhvcjogbGl4aWFuYmluMVxyXG4gKiBHaXRIdWI6IGh0dHBzOi8vZ2l0aHViLmNvbS9saXhpYW5iaW4xL2ltZ1pvb21cclxuICogRGF0ZTogMjAyNC0wMy0xOCAxMToyN1xyXG4gKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBpY29uQmFzZTY0PWBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVRQUFBQWlDQU1BQUFEUllJL0hBQUFBQVhOU1IwSUIyY2tzZndBQUFBbHdTRmx6QUFBTEV3QUFDeE1CQUpxY0dBQUFBRVZRVEZSRkFBQUFtWm1abVptWm1abVptWm1abVptWm1abVptWm1abVptWm1abVptWm1abVptWm1abVptWm1aUkpmTVJaZkxSWmZNU0pmS1NKZkticGl6YTVpMVJwZkxYWmk5blRiZDd3QUFBQmQwVWs1VEFQLzgvZkw3L3ZRS0svcjQrUzMvLy8vKy94UlAvMnlhc2ZsV0FBQUJhRWxFUVZSNG5KMVUyWGJGSUFnY1k1UHVNVjNTLy8vVVltK1VBWk9ZWGg0RU9UQU9pQUpGd2liVktQdU9BMEdUZmVnVkdXS1V4QWZOSlRaZzhSNjNGM3VJWUplUzBwQmRWTkN4R0VaWUROUXFOOWN4U0QxbVlwRGFzellINE1VeG1RYW1IamduQk8vZ2lNZkNSZFk0bXZwUFFMU2hwTE42UWlRbVlMQVdCS1NyOFp4MUExS3U1Z0tUVXFJcDV4ekU5WVNqNDhzQlNPOTJPR0hhQituT3lXc2VlTEhlZ3A4VEF1bE5iQmxza2ZmYm5CaHl1K1c0dHdNYk1FN040NzNuTmZ2ZkF0N1IvVThNczNtVGFwUjl4NEZaazMzb0ZVbkxJb2tmbWt0c1ROKzh4KzNGVG44Z3ZpSlUxMGF3UVFVZGk1UmdNVkNyM0Z6SElIb01nOVNldFRrQUw0NEpnOHdhb29XeGd5TStDeGRaRndPQ0V4QnRLT21zdmd3SUdLd0ZBZWxxZkdmZGdKU3J1Y0NrbFBnUEVOY1RqbDdXQTVEZTdaaUVmWkR1bkt4NTRNVmFaejhuQk5LYjJETFlJajgzRUVOdXR4ejNkbUFEVXZ0NDczbk4vcmVBZDNUL0UzSDhBaWV5SlhYNlRpTUxBQUFBQUVsRlRrU3VRbUNDYFxyXG52YXIgVmVyc2lvbiA9IFwiMC45LjRcIixcclxuICAgIFRpdGxlID0gXCJpbWd6b29uLWxpXCIsXHJcbiAgICBBdXRob3IgPSBcImxpeGlhbmJpbjFcIixcclxuICAgIC8v56eB5pyJ5bGe5oCnXHJcbiAgICBfY2FjaGU9e30sICAgICAvL+e8k+WtmOWbvueJh1xyXG4gICAgX3NpemU9e30sICAgICAgLy/lm77niYflpKflsI9cclxuICAgIF9DdXJyZW50SW1hZ2UsIC8v5b2T5YmN54Sm54K5XHJcbiAgICBfdGl0bGUgPSBcIua7muWKqOe8qeaUvuWbvueJh1wiLCAvL+agh+mimFxyXG4gICAgX3dpZHRoID0gXCJhdXRvXCIsICAvL+WbvueJh+WuveW6plxyXG4gICAgX3RvcCA9IFwiNTAlXCIsICAgICAvL+mhtumDqOWumuS9jVxyXG4gICAgX2xlZnQgPSBcIjUwJVwiLCAgICAvL+W3puS+p+WumuS9jVxyXG4gICAgX3RoZW1lID0gXCJkYXlcIiwgICAvL+S4u+mimCBkYXkgb3IgbmlnaHRcclxuICAgIF9zdmdDYWNoZSA9IGZhbHNlIC8v5piv5ZCm57yT5a2YU1ZH5Zu+54mHXHJcbi8v5Zu+54mH6L2sYmFzZTY05bm257yT5a2YXHJcbmZ1bmN0aW9uIGltYWdlVG9CYXNlNjQoaW1nVXJsLCBjYWxsYmFjayl7XHJcbiAgICB2YXIgaXNTVkcgPSBpbWdVcmwuZW5kc1dpdGgoJy5zdmcnKSB8fCBpbWdVcmwuaW5jbHVkZXMoJ2RhdGE6aW1hZ2Uvc3ZnK3htbCcpO1xyXG4gICAgaWYoIV9jYWNoZVtpbWdVcmxdICYmICFpc1NWRyB8fCBfc3ZnQ2FjaGUpe1xyXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XHJcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHZhciBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XHJcbiAgICAgICAgX2NhY2hlW2ltYWdlLnNyY10gPSBkYXRhVVJMO1xyXG4gICAgICAgIF9zaXplW2ltYWdlLnNyY10gPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOmltYWdlLm5hdHVyYWxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OmltYWdlLm5hdHVyYWxIZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjYWxsYmFjayA/IGNhbGxiYWNrKGRhdGFVUkwpIDogXCJcIjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGltYWdlLnNyYyA9IGltZ1VybDtcclxuICAgICAgICBpbWFnZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIGNhbGxiYWNrID8gY2FsbGJhY2soJ+aXoOazleiuv+mXruWbvueJhycpIDogXCJcIjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG4vL+WbvueJh+WKoOi9vee8k+WtmFxyXG5mdW5jdGlvbiBpbWdMb2FkKCl7XHJcbiAgICBjb25zdCBpbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcuaW1nWm9vbScpO1xyXG4gICAgaWYoIV9DdXJyZW50SW1hZ2Upe1xyXG4gICAgICAgIF9DdXJyZW50SW1hZ2UgPSBpbWFnZXNbMF1cclxuICAgIH1cclxuICAgIGltYWdlcy5mb3JFYWNoKGltZyA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nU3JjPSBpbWcuc3JjXHJcbiAgICAgICAgaWYgKGltZ1NyYykge1xyXG4gICAgICAgICAgICBpbWFnZVRvQmFzZTY0KGltZ1NyYylcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YVNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XHJcbiAgICAgICAgaWYgKGRhdGFTcmMpIHtcclxuICAgICAgICAgICAgaW1hZ2VUb0Jhc2U2NChkYXRhU3JjKVxyXG4gICAgICAgICAgICBjb25zdCBsYXJnZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGxhcmdlSW1hZ2Uuc3JjID0gZGF0YVNyYztcclxuICAgICAgICAgICAgbGFyZ2VJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gbGFyZ2VJbWFnZS5zcmM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8v5Yib5bu65Ye95pWwXHJcbmZ1bmN0aW9uIGNyZWF0ZSgpe1xyXG4gICAgdmFyIGltZ3dpZHRoID0gX3dpZHRoLFxyXG4gICAgICAgIGltZ3RpdGxlID0gX3RpdGxlLFxyXG4gICAgICAgIGltZ2xlZnQgPSBfbGVmdCxcclxuICAgICAgICBpbWd0b3AgPSBfdG9wO1xyXG4gICAgaWYgKGltZ3dpZHRoID09IFwiYXV0b1wiKSB7XHJcbiAgICAgIGltZ3dpZHRoID0gMTAwMDtcclxuICAgIH1cclxuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcclxuICAgIHZhciBpbWdiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpbWdiLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIjtcclxuICAgIGltZ2Iuc3R5bGUuekluZGV4PVwiOTk5OVwiO1xyXG4gICAgaW1nYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgYm9keS5hcHBlbmRDaGlsZChpbWdiKTtcclxuICAgIGltZ2IuaW5uZXJIVE1MID0gYFxyXG4gICAgPGRpdiBpZD1cIl9pbWd6b29tXCIgY2xhc3M9XCJfaW1nem9vbV9ib3hcIiBzdHlsZT1cIndpZHRoOmAgKyBpbWd3aWR0aCArIGBweDtwb3NpdGlvbjpmaXhlZDt0b3A6YCArIGltZ3RvcCArIGA7bGVmdDpgICsgaW1nbGVmdCArIGA7dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTtiYWNrZ3JvdW5kOiNmZmY7ei1pbmRleDogMTstd2Via2l0LUltZy1zZWxlY3Q6IG5vbmU7LW1vei1JbWctc2VsZWN0OiBub25lOy1tcy1JbWctc2VsZWN0OiBub25lO3VzZXItc2VsZWN0OiAgICAgICBub25lO3BhZGRpbmc6NXB4IDEwcHggMjVweDtcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiIHN0eWxlPVwiXCI+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJfaW1nem9vbV90aXRsZVwiIHN0eWxlPVwibWFyZ2luOjA7cGFkZGluZzo4cHggMFwiPlxyXG4gICAgICAgIGArIGltZ3RpdGxlICtgXHJcbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImZsb2F0OnJpZ2h0XCI+XHJcbiAgICAgICAgICAgIDxhIGlkPVwiaW1nem9vbV9jaGVja1wiIGNsYXNzPVwiaW1nem9vbV9jaGVja1wiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiAgdGl0bGU9XCLliIfmjaLkuLvpophcIiBzdHlsZT1cImJhY2tncm91bmQ6IHVybChgKyBpY29uQmFzZTY0ICtgKSBuby1yZXBlYXQgLTUxcHggMDt3aWR0aDoxN3B4O2hlaWdodDoxN3B4O2Zsb2F0OmxlZnQ7bWFyZ2luLWxlZnQ6MTBweDtvdmVyZmxvdzpoaWRkZW47bGluZS1oZWlnaHQ6MTAwcHhcIj7liIfmjaLkuLvpopg8L2E+XHJcbiAgICAgICAgICAgIDxhIGlkPVwiaW1nem9vbV9pbWdsaW5rXCIgY2xhc3M9XCJpbWd6b29tX2ltZ2xpbmtcIiBocmVmPVwiamF2YXNjcmlwdDo7XCIgdGl0bGU9XCLlnKjmlrDnqpflj6PmiZPlvIBcIiBzdHlsZT1cImJhY2tncm91bmQ6IHVybChgKyBpY29uQmFzZTY0ICtgKSBuby1yZXBlYXQgMCAwO3dpZHRoOjE3cHg7aGVpZ2h0OjE3cHg7ZmxvYXQ6bGVmdDttYXJnaW4tbGVmdDoxMHB4O292ZXJmbG93OmhpZGRlbjtsaW5lLWhlaWdodDoxMDBweFwiPuWcqOaWsOeql+WPo+aJk+W8gDwvYT5cclxuICAgICAgICAgICAgPGEgaWQ9XCJpbWd6b29tX3Jlc2l6ZVwiIGNsYXNzPVwiaW1nem9vbV9yZXNpemVcIiBocmVmPVwiamF2YXNjaXB0OjtcIiB0aXRsZT1cIuS8mOWMluaYvuekulwiIHN0eWxlPVwiYmFja2dyb3VuZDogdXJsKGArIGljb25CYXNlNjQgK2ApIG5vLXJlcGVhdCAtMTdweCAwO3dpZHRoOjE3cHg7aGVpZ2h0OjE3cHg7ZmxvYXQ6bGVmdDttYXJnaW4tbGVmdDoxMHB4O292ZXJmbG93OmhpZGRlbjtsaW5lLWhlaWdodDoxMDBweFwiPuS8mOWMluaYvuekujwvYT5cclxuICAgICAgICAgICAgPGEgaWQ9XCJpbWd6b29tX2Nsb3NlXCIgY2xhc3M9XCJpbWd6b29tX2Nsb3NlXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiIHRpdGxlPVwi5YWz6ZetXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB1cmwoYCsgaWNvbkJhc2U2NCArYCkgbm8tcmVwZWF0IC0zNHB4IDA7d2lkdGg6MTdweDtoZWlnaHQ6MTdweDtmbG9hdDpsZWZ0O21hcmdpbi1sZWZ0OjEwcHg7b3ZlcmZsb3c6aGlkZGVuO2xpbmUtaGVpZ2h0OjEwMHB4XCI+5YWz6ZetPC9hPlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibGFzdFwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7cG9zaXRpb246IGFic29sdXRlO3dpZHRoOiA4MHB4O2hlaWdodDogNTAlO3RvcDogNTAlO3RyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtsZWZ0OjA7Y3Vyc29yOiBwb2ludGVyO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwKTtcIj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiX2ltZ3pvb21fdGl0bGUgX2ltZ3pvb21fYm94XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzAwMDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NDAlO2xlZnQ6MDttYXJnaW46MDtwYWRkaW5nOjVweDtmb250LXNpemU6MTJweDtkaXNwbGF5Om5vbmVcIj7kuIrkuIDlvKA8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5leHRcIiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrO3Bvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDogODBweDtoZWlnaHQ6IDUwJTt0b3A6IDUwJTt0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7cmlnaHQ6MDtjdXJzb3I6IHBvaW50ZXI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO1wiPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJfaW1nem9vbV90aXRsZSBfaW1nem9vbV9ib3hcIiBzdHlsZT1cImJhY2tncm91bmQ6I2ZmZjtjb2xvcjojMDAwO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0MCU7cmlnaHQ6MDttYXJnaW46MDtwYWRkaW5nOjVweDtmb250LXNpemU6MTJweDtkaXNwbGF5Om5vbmU7ei1pbmRleFwiPuS4i+S4gOW8oDwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8aW1nIGlkPVwibmV0XCIgc3JjPVwiXCIgb25jb3B5PVwicmV0dXJuIGZhbHNlO1wiIHN0eWxlPVwid2lkdGg6MTAwJTt2ZXJ0aWNhbC1hbGlnbjogdG9wO1wiPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImltZ3pvb21fc2hhZG93XCIgc3R5bGU9XCJwb3NpdGlvbjpmaXhlZDt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7YmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDApO3RvcDowO2xlZnQ6MDtvcGFjaXR5OiAwLjU7XCIvPlxyXG4gIDwvZGl2PmA7XHJcbn1cclxuXHJcbi8v5YmN6L+b5ZCO6YCAXHJcbmZ1bmN0aW9uIGxhc3RuZXh0KHR5cGUpIHtcclxuICBsZXQgZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ19pbWd6b29tJykuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0eXBlKVswXTtcclxuICBkb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJylbMF0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9KTtcclxuICBkb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKVswXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfSk7XHJcbiAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSk7XHJcbiAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgbGV0IG5ld0ltZz11bmRlZmluZWRcclxuICAgIGxldCBpbWdMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW1nWm9vbScpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWdMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0eXBlID09ICduZXh0Jykge1xyXG4gICAgICAgIGlmKGltZ0xpc3RbaV09PT1fQ3VycmVudEltYWdlICYmIGkgPCBpbWdMaXN0Lmxlbmd0aCAtIDEpe1xyXG4gICAgICAgICAgbmV3SW1nPWltZ0xpc3RbaSsxXVxyXG4gICAgICAgIH1lbHNlIGlmKGltZ0xpc3RbaV09PT1fQ3VycmVudEltYWdlICYmIGkgPT09IGltZ0xpc3QubGVuZ3RoIC0gMSl7XHJcbiAgICAgICAgICBuZXdJbWc9aW1nTGlzdFswXVxyXG4gICAgICAgIH1cclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgaWYoaW1nTGlzdFtpXT09PV9DdXJyZW50SW1hZ2UgJiYgaSA+IDApe1xyXG4gICAgICAgICAgbmV3SW1nPWltZ0xpc3RbaS0xXVxyXG4gICAgICAgIH1lbHNlIGlmKGltZ0xpc3RbaV09PT1fQ3VycmVudEltYWdlICYmIGkgPT09IDApe1xyXG4gICAgICAgICAgbmV3SW1nPWltZ0xpc3RbaW1nTGlzdC5sZW5ndGggLSAxXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAobmV3SW1nKSB7XHJcbiAgICAgICAgX0N1cnJlbnRJbWFnZSA9IG5ld0ltZ1xyXG4gICAgICAgIGxldCBpbWdUaXRsZVxyXG4gICAgICAgIGlmKF9DdXJyZW50SW1hZ2UuYWx0KXtcclxuICAgICAgICAgIGltZ1RpdGxlID0gX0N1cnJlbnRJbWFnZS5hbHRcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIGltZ1RpdGxlID0gX3RpdGxlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBCYXNlNjQgPSBfQ3VycmVudEltYWdlLnNyY1xyXG4gICAgICAgIGlmKF9jYWNoZVtuZXdJbWcuc3JjXSl7XHJcbiAgICAgICAgICBCYXNlNjQgPSBfY2FjaGVbbmV3SW1nLnNyY11cclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldCcpLnNyYyA9IEJhc2U2NDtcclxuICAgICAgICBTZXRUaXRsZShpbWdUaXRsZSlcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59IFxyXG5cclxuLy/mu5rova7kuovku7ZcclxuZnVuY3Rpb24gbW91c2VXaGVlbCgpIHtcclxuICB2YXIgZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ19pbWd6b29tJyk7XHJcbiAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLChldmVudCk9PntcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBEZXRhaWwoZXZlbnQsIGRvbSk7XHJcbiAgfSk7XHJcbiAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywoZXZlbnQpPT57XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgRGV0YWlsKGV2ZW50LCBkb20pO1xyXG4gIH0pO1xyXG59IFxyXG5cclxuLy/mlL7lpKfnvKnlsI9cclxuZnVuY3Rpb24gRGV0YWlsKGUsIGRvbSkge1xyXG4gIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICBpZiAoZS53aGVlbERlbHRhIDwgMCkge1xyXG4gICAgdmFyIHcgPSBNYXRoLnJvdW5kKGRvbS5vZmZzZXRXaWR0aCAqIDAuOSk7XHJcbiAgICB2YXIgaCA9IE1hdGgucm91bmQoZG9tLm9mZnNldEhlaWdodCAqIDAuOSk7XHJcbiAgICBpZiAodyA+IDM2MCB8fCBoID4gMjcwKSB7XHJcbiAgICAgIGRvbS5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB2YXIgX3cgPSBNYXRoLnJvdW5kKGRvbS5vZmZzZXRXaWR0aCAqIDEuMSk7XHJcbiAgICB2YXIgX2ggPSBNYXRoLnJvdW5kKGRvbS5vZmZzZXRIZWlnaHQgKiAxLjEpO1xyXG4gICAgaWYgKF93IDwgODI1MDAgfHwgX2ggPCA0NjUwMCkge1xyXG4gICAgICBkb20uc3R5bGUud2lkdGggPSBfdyArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG59IFxyXG5cclxuLy/np7vliqjkuovku7YgXHJcbmZ1bmN0aW9uIGltZ01vdmUoKSB7XHJcbiAgdmFyIGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdfaW1nem9vbScpO1xyXG4gIHZhciBzY3JlZW5YLCBzY3JlZW5ZO1xyXG4gIGRvbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2NyZWVuWCA9IGUuc2NyZWVuWDtcclxuICAgIHNjcmVlblkgPSBlLnNjcmVlblk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcG9zaXRpb24pO1xyXG4gIH0pO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHBvc2l0aW9uKTtcclxuICB9KTtcclxuICBmdW5jdGlvbiBwb3NpdGlvbihlKSB7XHJcbiAgICB2YXIgeCA9IGUuc2NyZWVuWCAtIHNjcmVlblg7XHJcbiAgICB2YXIgeSA9IGUuc2NyZWVuWSAtIHNjcmVlblk7XHJcbiAgICBzY3JlZW5YID0gZS5zY3JlZW5YO1xyXG4gICAgc2NyZWVuWSA9IGUuc2NyZWVuWTtcclxuICAgIHZhciB0b3AgPSBkb20ub2Zmc2V0VG9wO1xyXG4gICAgdmFyIGxlZnQgPSBkb20ub2Zmc2V0TGVmdDtcclxuICAgIGRvbS5zdHlsZS50b3AgPSB0b3AgKyB5ICsgJ3B4JztcclxuICAgIGRvbS5zdHlsZS5sZWZ0ID0gbGVmdCArIHggKyAncHgnO1xyXG4gIH1cclxufVxyXG5cclxuLy/nu5Hlrprkuovku7ZcclxuZnVuY3Rpb24gYmluZygpe1xyXG4gIGxhc3RuZXh0KCdsYXN0Jyk7XHJcbiAgbGFzdG5leHQoJ25leHQnKTtcclxuICBtb3VzZVdoZWVsKCk7XHJcbiAgaW1nTW92ZSgpO1xyXG59IFxyXG5cclxuLy/liKTmlq1jbGFzc+Wtl+espuS4suaYr+WQpuWtmOWcqGltZ3pvb21cclxuZnVuY3Rpb24gaW5TdHIoc3RyLCBzdHJpbmcpIHtcclxuICB2YXIgaXNpbiA9IGZhbHNlO1xyXG4gIHZhciBhcnIgPSBzdHIuc3BsaXQoJyAnKTtcclxuICBmb3IgKHZhciBpIGluIGFycikge1xyXG4gICAgaWYgKGFycltpXSA9PSBzdHJpbmcpIHtcclxuICAgICAgaXNpbiA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBpc2luO1xyXG59XHJcblxyXG4vL+aJk+W8gOeql+WPo1xyXG5mdW5jdGlvbiBPcGVuKGV2ZW50KSB7XHJcbiAgbGV0IGltZ0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdfaW1nem9vbScpO1xyXG4gIGxldCBpbWdMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW1nWm9vbScpO1xyXG4gIF9DdXJyZW50SW1hZ2UgPSBldmVudFxyXG4gIGxldCBpbWdUaXRsZVxyXG4gIGlmKF9DdXJyZW50SW1hZ2UgJiYgX0N1cnJlbnRJbWFnZS5hbHQpe1xyXG4gICAgaW1nVGl0bGUgPSBfQ3VycmVudEltYWdlLmFsdFxyXG4gIH1lbHNle1xyXG4gICAgaW1nVGl0bGUgPSBfdGl0bGVcclxuICB9XHJcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LnNyYykge1xyXG4gICAgaWYgKGltZ0JveCAmJiBpbWdMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXQnKTtcclxuICAgICAgaWYoX2NhY2hlW2V2ZW50LnNyY10pe1xyXG4gICAgICAgIGltZy5zcmMgPSBfY2FjaGVbZXZlbnQuc3JjXVxyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBpbWcuc3JjID0gZXZlbnQuc3JjO1xyXG4gICAgICAgIGltZ0xvYWQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpbWdCb3guc3R5bGUudG9wID0gX3RvcDtcclxuICAgIGltZ0JveC5zdHlsZS5sZWZ0ID0gX2xlZnQ7XHJcbiAgICBpbWdCb3guc3R5bGUud2lkdGggPSBfd2lkdGggKyAncHgnO1xyXG4gICAgU2V0VGl0bGUoaW1nVGl0bGUpXHJcbiAgICBSZXNpemUoZXZlbnQpXHJcbiAgICBpbWdCb3gucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH0gZWxzZSBpZihpbWdMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgT3BlbihpbWdMaXN0WzBdKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGMDI6IE1pc3NpbmcgcGFyYW1ldGVycyBcInNyY1wiJyk7XHJcbiAgfVxyXG59IFxyXG5cclxuICAvL+WFs+mXreeql+WPo1xyXG5mdW5jdGlvbiBDbG9zZSgpIHtcclxuICB2YXIgX2ltZ3pvb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnX2ltZ3pvb20nKTtcclxuICBpZiAoX2ltZ3pvb20pIHtcclxuICAgIF9pbWd6b29tLnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH1cclxufVxyXG5cclxuICAvL+S8mOWMluaYvuekuu+8muiwg+aVtOWkp+Wwj1xyXG5mdW5jdGlvbiBSZXNpemUoZXZlbnQpIHtcclxuICBjb25zdCBzaXplID0odyxoKT0+e1xyXG4gICAgbGV0IHggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIGxldCB5ID0gdyAvIGg7XHJcbiAgICBpZiAoeCA+PSB5KSB7XHJcbiAgICAgIGxldCBudW0gPSAod2luZG93LmlubmVySGVpZ2h0IC0gMzUwKSAqIHk7XHJcbiAgICAgIGRvbS5zdHlsZS53aWR0aCA9IG51bSArICdweCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb20uc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIDIwMCArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID8gZXZlbnQucHJldmVudERlZmF1bHQoKSA6IGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgfVxyXG4gIGxldCB1cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV0Jykuc3JjO1xyXG4gIGxldCBkb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnX2ltZ3pvb20nKTtcclxuICBsZXQga2V5ID0gX0N1cnJlbnRJbWFnZS5zcmNcclxuICBpZihfc2l6ZVtrZXldKXtcclxuICAgIHNpemUoX3NpemVba2V5XS53aWR0aCxfc2l6ZVtrZXldLmhlaWdodCk7XHJcbiAgfWVsc2V7XHJcbiAgICBjb25zb2xlLmxvZyg1NTUpXHJcbiAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWcuc3JjID0gdXJsO1xyXG4gICAgaWYgKGltZy5jb21wbGV0ZSkge1xyXG4gICAgICBzaXplKGltZy53aWR0aCxpbWcuaGVpZ2h0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2l6ZShpbWcud2lkdGgsaW1nLmhlaWdodCk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG59IFxyXG5cclxuLy/liIfmjaLkuLvpophcclxuZnVuY3Rpb24gVGhlbWVTd2l0Y2godHlwZSxldmVudCl7XHJcbiAgaWYoZXZlbnQpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQgPyBldmVudC5wcmV2ZW50RGVmYXVsdCgpIDogZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICB9XHJcbiAgdHlwZT9fdGhlbWUgPSB0eXBlOlwiXCJcclxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJfaW1nem9vbV9ib3hcIikpLmZvckVhY2goKGJveCkgPT4ge1xyXG4gICAgYm94LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IF90aGVtZSA9PSBcImRheVwiID8gXCJibGFja1wiIDogXCJ3aGl0ZVwiO1xyXG4gIH0pO1xyXG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIl9pbWd6b29tX3RpdGxlXCIpKS5mb3JFYWNoKCh0aXRsZSkgPT4ge1xyXG4gICAgdGl0bGUuc3R5bGUuY29sb3IgPSBfdGhlbWUgPT0gXCJkYXlcIiA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIjtcclxuICB9KTtcclxuICBpZihfdGhlbWUgPT0gXCJuaWdodFwiKXsgXHJcbiAgICBfdGhlbWUgPSBcImRheVwiIFxyXG4gIH1lbHNle1xyXG4gICAgX3RoZW1lID0gXCJuaWdodFwiXHJcbiAgfVxyXG59XHJcblxyXG4vL+aJk+W8gOWbvueJh1xyXG5mdW5jdGlvbiB0YXJnZXRJbWcoZXZlbnQpe1xyXG4gIGlmKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID8gZXZlbnQucHJldmVudERlZmF1bHQoKSA6IGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgfVxyXG4gIGlmKF9DdXJyZW50SW1hZ2Upe1xyXG4gICAgd2luZG93Lm9wZW4oX0N1cnJlbnRJbWFnZS5zcmMpICBcclxuICB9ZWxzZXtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEYwMTogSW1nem9vbSBpcyBub3QgaW5pdGlhbGl6ZWQsIHBsZWFzZSBleGVjdXRlIFwiaW1nWm9vbS5pbml0KClcImApXHJcbiAgfVxyXG59XHJcblxyXG4vL+iuvue9rumFjee9rlxyXG5mdW5jdGlvbiBTZXRPcHRpb24ob2JqKXtcclxuICBvYmoud2lkdGg/X3dpZHRoPW9iai53aWR0aDpcIlwiO1xyXG4gIG9iai50aXRsZT9fdGl0bGU9b2JqLnRpdGxlOlwiXCJcclxuICBvYmoudG9wP190b3A9b2JqLnRvcDpcIlwiXHJcbiAgb2JqLmxlZnQ/X2xlZnQ9b2JqLmxlZnQ6XCJcIlxyXG4gIG9iai50aGVtZT9fdGhlbWU9b2JqLnRoZW1lOlwiXCJcclxuICBvYmouc3ZnQ2FjaGU/X3N2Z0NhY2hlID0gb2JqLnN2Z0NhY2hlOlwiXCJcclxufVxyXG5cclxuLy/orr7nva7moIfpophcclxuZnVuY3Rpb24gU2V0VGl0bGUodGl0bGUpe1xyXG4gIHRyeXtcclxuICAgIHZhciBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInAuX2ltZ3pvb21fdGl0bGVcIilcclxuICAgIHAuZmlyc3RDaGlsZC5ub2RlVmFsdWU9dGl0bGVcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIGNvbnNvbGUubG9nKGVycilcclxuICB9XHJcbn1cclxuXHJcbi8v5Yik5pat5piv5ZCm5Zyo5omL5py65qih5byPXHJcbmZ1bmN0aW9uIGlzUEUoKXtcclxuICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlwb2R8aXBhZHxCbGFja0JlcnJ5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnQoKXtcclxuICAgIGNyZWF0ZSgpXHJcbiAgICBiaW5nKClcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZXZlbnQpPT57XHJcbiAgICAgIHZhciBldmVuID0gZXZlbnRcclxuICAgICAgdmFyIHRhcmdldCA9IGV2ZW4udGFyZ2V0XHJcbiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT0gXCJJTUdcIiAmJiBpblN0cih0YXJnZXQuY2xhc3NOYW1lLCAnaW1nWm9vbScpKSB7XHJcbiAgICAgICAgT3Blbih0YXJnZXQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpblN0cih0YXJnZXQuY2xhc3NOYW1lLCAnaW1nem9vbV9zaGFkb3cnKSB8fCBpblN0cih0YXJnZXQuY2xhc3NOYW1lLCAnaW1nem9vbV9jbG9zZScpKSB7XHJcbiAgICAgICAgQ2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW5TdHIodGFyZ2V0LmNsYXNzTmFtZSwgJ2ltZ3pvb21fcmVzaXplJykpIHtcclxuICAgICAgICBSZXNpemUoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpblN0cih0YXJnZXQuY2xhc3NOYW1lLCAnaW1nem9vbV9jaGVjaycpKSB7XHJcbiAgICAgICAgVGhlbWVTd2l0Y2gobnVsbCxldmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGluU3RyKHRhcmdldC5jbGFzc05hbWUsICdpbWd6b29tX2ltZ2xpbmsnKSkge1xyXG4gICAgICAgIHRhcmdldEltZyhldmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbnZhciBpbWdab29tID0gZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgVmVyc2lvbixcclxuICAgIFRpdGxlLFxyXG4gICAgQXV0aG9yLFxyXG4gICAgaW5pdDogZnVuY3Rpb24oKXtcclxuICAgICAgaW1nTG9hZCgpXHJcbiAgICAgIHN0YXJ0KClcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBTZXRPcHRpb24sXHJcbiAgICAgICAgU2V0VGl0bGUsXHJcbiAgICAgICAgT3BlbixcclxuICAgICAgICBDbG9zZSxcclxuICAgICAgICBUaGVtZVN3aXRjaCxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59KCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbWdab29tIiwiLy8gaW1wb3J0IGltZ2xpIGZyb20gJ2ltZ3pvb20tbGknXHJcbmltcG9ydCBpbWdsaSBmcm9tICcuL2ltZ1pvb20uanMnXHJcbmNvbnNvbGUubG9nKGltZ2xpKVxyXG5jb25zdCBpbWdvYmo9aW1nbGkuaW5pdCgpXHJcbmltZ29iai5TZXRPcHRpb24oe1xyXG4gICAgdG9wOlwiNTAlXCIsXHJcbiAgICB0aXRsZTpcIjMxNTRcIlxyXG59KVxyXG5pbWdvYmouU2V0VGl0bGUoJzMyMTIzJylcclxuLy8gaW1nb2JqLm9wZW4oKVxyXG5jb25zb2xlLmxvZyhpbWdvYmopXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9